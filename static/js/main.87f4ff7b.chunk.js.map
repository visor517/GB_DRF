{"version":3,"sources":["components/ToDo/ToDo.module.css","components/Project/Project.module.css","components/Header/Header.jsx","components/Footer/Footer.jsx","components/Error404/Error404.jsx","components/User/User.jsx","actions/getData.js","context/Auth.jsx","components/UsersList/UsersList.jsx","components/Project/Project.jsx","components/ProjectsList/ProjectsList.jsx","components/ToDo/ToDo.jsx","components/ToDosList/ToDosList.jsx","components/TodoForm/TodoForm.jsx","components/LoginForm/LoginForm.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","Header","props","className","to","type","authNav","Footer","Error404","location","console","log","pathname","User","user","username","first_name","last_name","email","axios","require","getData","path","headers","a","get","result","data","AuthContext","React","createContext","undefined","UsersList","token","useContext","useState","users","setUsers","useEffect","getUsers","map","id","Project","project","history","useHistory","onClick","push","styles","card","name","description","create_time","authors","join","status","ProjectsList","projects","setProjects","getProjects","todo","todoDelete","header","is_active","update_time","author","ToDosList","project_id","useParams","todos","setTodos","url","then","error","getToDos","length","TodoForm","todoCreate","todoInfo","setTodoInfo","handlerOnChange","e","target","value","style","width","onSubmit","event","preventDefault","htmlFor","onChange","LoginForm","password","userInfo","setUserInfo","getToken","App","contextToken","setContextToken","post","res","Cookies","set","catch","err","alert","delete","window","go","getTokenFromCookies","Provider","remove","exact","from","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.87f4ff7b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ToDo_header__35Y8d\",\"status\":\"ToDo_status__1GWNN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Project_card__1uYxo\",\"status\":\"Project_status__2mmb7\"};","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Header(props) {\r\n\r\n    return (\r\n        <header className=\"row bg-primary text-light py-3\">\r\n            <nav className=\"navbar navbar-light\">\r\n                <form className=\"container-fluid justify-content-start\">\r\n                    <Link to={'/projects'}>\r\n                        <button type=\"button\" className=\"btn btn-outline-light me-2\">Проекты</button>\r\n                    </Link>\r\n                    <Link to={'/todos'}>\r\n                        <button type=\"button\" className=\"btn btn-outline-light me-2\">Задачи</button>\r\n                    </Link>\r\n                    <Link to={'/users'}>\r\n                        <button type=\"button\" className=\"btn btn-outline-light me-2\">Пользователи</button>\r\n                    </Link>\r\n                    {props.authNav}\r\n                </form>\r\n            </nav> \r\n        </header>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Footer() {\r\n\r\n    return (\r\n        <footer className=\"row justify-content-end bg-dark text-light py-3 mt-auto\">\r\n            <div className=\"col-3\">\r\n                <span>Все права защищены</span>\r\n            </div> \r\n        </footer>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Error404({location}) {\r\n\r\n    console.log(location)\r\n\r\n    return (\r\n        <>\r\n            <h1>Страницы не существуе</h1>\r\n            <p>{location.pathname}</p>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function User({user}) {\r\n\r\n    return (\r\n        <div className=\"col\">\r\n            <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{user.username}</h5>\r\n                    <p className=\"card-text\">Имя: {user.first_name}</p>\r\n                    <p className=\"card-text\">Фамилия: {user.last_name}</p>\r\n                    <p className=\"card-text\">e-mail: {user.email}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","const axios = require('axios')\r\n\r\nexport default async function getData(path, headers) {\r\n    let result = await axios.get(`http://127.0.0.1:8000/api${path}`, headers)\r\n\r\n    return result.data\r\n}","import React from \"react\"\r\n\r\nexport const AuthContext = React.createContext(undefined)","import React, {useContext} from 'react'\r\nimport User from '../User/User'\r\nimport {useEffect, useState} from 'react'\r\nimport getData from '../../actions/getData'\r\nimport {AuthContext} from '../../context/Auth'\r\n\r\nexport default function UsersList() {\r\n\r\n    const token = useContext(AuthContext)\r\n\r\n    const [users, setUsers] = useState([])\r\n\r\n    useEffect(() => {\r\n        async function getUsers() { \r\n            if (token !== undefined) {\r\n                let headers = {'Content-Type': 'application/json'}\r\n                headers['Authorization'] = `Token ${token}`\r\n                \r\n                try {\r\n                    let result = await getData('/users', {headers})\r\n\r\n                    setUsers(result['results'])\r\n                }\r\n                catch {\r\n                    console.log('Ошибка получения пользователей из API')\r\n                }\r\n            }\r\n        }\r\n        getUsers()\r\n    },[token])\r\n\r\n    return (\r\n        <>\r\n            <h2>Список пользователей</h2>\r\n            <div className=\"row row-cols-2 row-cols-md-3 row-cols-lg-4 py-3 gy-3 g-3\">\r\n                {users.map(user => <User user={user} key={`user_${user.id}`} />)}\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styles from './Project.module.css'\r\n\r\nexport default function Project({project}) {\r\n\r\n    const history = useHistory()\r\n\r\n    return (\r\n        <div className=\"col\" onClick={() => history.push(`/project/${project.id}/todos`)}>\r\n            <div className={`card ${styles.card}`}>\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{project.name}</h5>\r\n                    <p className=\"card-text\">{project.description}</p>\r\n                    <p className=\"card-text\">{project.create_time}</p>\r\n                    <p className=\"card-text\">Авторы: {project.authors.join(\", \")}</p>\r\n                    <div className={`${styles.status} ${project.status === 'OPEN' ? \"bg-warning\" : \"bg-success\"}`}>{project.status}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useContext} from 'react'\r\nimport Project from '../Project/Project'\r\nimport {useEffect, useState} from 'react'\r\nimport getData from '../../actions/getData'\r\nimport {AuthContext} from '../../context/Auth'\r\n\r\nexport default function ProjectsList() {\r\n\r\n    const token = useContext(AuthContext)\r\n\r\n    const [projects, setProjects] = useState([])\r\n\r\n    useEffect(() => {\r\n        async function getProjects() {\r\n            if (token !== undefined) {\r\n                let headers = {'Content-Type': 'application/json'}\r\n                headers['Authorization'] = `Token ${token}`\r\n\r\n                try {\r\n                    let result = await getData('/projects', {headers})\r\n\r\n                    setProjects(result['results'])\r\n                }\r\n                catch {\r\n                    console.log('Ошибка получения данных из API')\r\n                }\r\n            }\r\n        }\r\n        getProjects()\r\n    },[token])\r\n\r\n    return (\r\n        <>\r\n            <h2>Список проектов</h2>\r\n            <div className=\"row row-cols-2 row-cols-md-3 row-cols-lg-4 py-3 gy-3 g-3\">\r\n                {projects.map(project => <Project project={project} key={`project_${project.id}`} />)}\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport styles from './ToDo.module.css'\r\n\r\nexport default function Project({todo, todoDelete}) {\r\n\r\n    return (\r\n        <div className=\"col\">\r\n            <div className={`card ${styles.card}`}>\r\n                <div className=\"card-body\">\r\n                    <div className={styles.header}>\r\n                        <h5 className=\"card-title\">{todo.project}</h5>\r\n                        <div className={`${styles.status} ${todo.is_active ? \"bg-success\" : \"bg-secondary\"}`}>{todo.is_active ? \"OPEN\" : \"DONE\"}</div>\r\n                    </div>\r\n                    <h6 className=\"card-title\">{todo.name}</h6>\r\n                    <p className=\"card-text\">{todo.description}</p>\r\n                    <p className=\"card-text\">{todo.create_time}</p>\r\n                    <p className=\"card-text\">{todo.update_time}</p>\r\n                    <p className=\"card-text\">Исполнитель: {todo.author}</p>\r\n                    {todo.is_active && <button type=\"button\" className=\"btn btn-primary\" onClick={() => todoDelete(todo.id)}>Закрыть</button>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react'\r\nimport ToDo from '../ToDo/ToDo'\r\nimport {useParams} from 'react-router'\r\nimport getData from '../../actions/getData'\r\nimport {AuthContext} from '../../context/Auth'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function ToDosList({todoDelete}) {\r\n\r\n    const token = useContext(AuthContext)\r\n\r\n    let {project_id} = useParams()\r\n\r\n    const [todos, setTodos] = useState([])\r\n\r\n    useEffect(() => {\r\n        function getToDos() {\r\n            if (token !== undefined) {\r\n                let headers = {'Content-Type': 'application/json'}\r\n                headers['Authorization'] = `Token ${token}`\r\n\r\n                let url = '/todos'\r\n                if (project_id) url += `?project=${project_id}`\r\n\r\n                getData(url, {headers}).then(\r\n                    result => setTodos(result['results']),\r\n                    error => console.log('Ошибка получения данных из API')\r\n                )\r\n            }\r\n        }\r\n        getToDos()\r\n    },[token, project_id])\r\n\r\n    return (\r\n        <>\r\n            <h2>Список задач</h2>\r\n            <div className=\"row row-cols-2 row-cols-md-3 row-cols-lg-4 py-3 gy-3 g-3\">\r\n                {todos.length > 0 ? todos.map(todo => <ToDo todo={todo} todoDelete={todoDelete} key={`todo_${todo.id}`} />) : <h3>Ещё нет задач</h3>}\r\n            </div>\r\n            <div className=\"pb-3\">\r\n                <Link to={`/project/${project_id}/todos/create/`}>\r\n                    <button type=\"button\" className=\"btn btn-primary\">Новая задача</button>\r\n                </Link>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport {useParams} from 'react-router'\r\n\r\nexport default function TodoForm({todoCreate}) {\r\n\r\n    let {project_id} = useParams()\r\n\r\n    const [todoInfo, setTodoInfo] = useState({\r\n        name: '',\r\n        description: '',\r\n        author: 16,\r\n        project: project_id\r\n    })\r\n\r\n    function handlerOnChange(e) {\r\n        todoInfo[e.target.name] = e.target.value\r\n        setTodoInfo(todoInfo)\r\n    }\r\n\r\n    function handlerOnSubmit(e) {\r\n        todoCreate(todoInfo)\r\n        e.preventDefault()\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\" style={{width: \"18rem\"}}>\r\n            <div className=\"card-body\">\r\n                <form onSubmit={(event) => handlerOnSubmit(event)}>\r\n                    <div className=\"card-text\">Проект id: {project_id}</div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"todoName\" className=\"form-label\">Название для todo:</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"todoName\" name=\"name\" onChange={(event) => handlerOnChange(event)} />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"todoDescription\" className=\"form-label\">Описание для todo:</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"todoDescription\" name=\"description\" onChange={(event) => handlerOnChange(event)} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Создать</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useState} from 'react'\r\n\r\nexport default function LoginForm(props) {\r\n\r\n    const [userInfo, setUserInfo] = useState({\r\n        username: '',\r\n        password: ''\r\n    })\r\n\r\n    function handlerOnChange(e) {\r\n        userInfo[e.target.name] = e.target.value\r\n        setUserInfo(userInfo)\r\n    }\r\n\r\n    function handlerOnSubmit(e) {\r\n        props.getToken(userInfo.username, userInfo.password)\r\n        e.preventDefault()\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\" style={{width: \"18rem\"}}>\r\n            <div className=\"card-body\">\r\n                <form onSubmit={(event) => handlerOnSubmit(event)}>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"inputUser\" className=\"form-label\">Пользователь:</label>\r\n                        <input type=\"text\" className=\"form-control\" id=\"inputUser\" name=\"username\" onChange={(event) => handlerOnChange(event)} />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"inputPassword\" className=\"form-label\">Пароль:</label>\r\n                        <input type=\"password\" className=\"form-control\" id=\"inputPassword\" name=\"password\" onChange={(event) => handlerOnChange(event)} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Авторизоваться</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import './App.css'\r\nimport Header from './components/Header/Header'\r\nimport Footer from './components/Footer/Footer'\r\nimport Error404 from './components/Error404/Error404'\r\nimport UsersList from './components/UsersList/UsersList'\r\nimport ProjectsList from './components/ProjectsList/ProjectsList'\r\nimport ToDosList from './components/ToDosList/ToDosList'\r\nimport TodoForm from './components/TodoForm/TodoForm'\r\nimport { BrowserRouter, Route, Switch, Redirect, Link} from 'react-router-dom'\r\nimport LoginForm from './components/LoginForm/LoginForm'\r\nimport Cookies from 'universal-cookie/es6'\r\nimport axios from 'axios'\r\nimport { useState, useEffect } from 'react'\r\nimport {AuthContext} from './context/Auth'\r\n\r\nfunction App() {\r\n\r\n  const [contextToken, setContextToken] = useState(undefined)\r\n\r\n  function getToken(username, password) {\r\n    let data = {username: username, password: password}\r\n    axios.post('http://127.0.0.1:8000/api-token-auth/', data)\r\n      .then(res => {\r\n        setToken(res.data['token'])\r\n      })\r\n      .catch(err => alert('Неверный логин или пароль'))\r\n  }\r\n\r\n  function setToken(token) {\r\n    const cookies = new Cookies()\r\n    cookies.set('token', token)\r\n    setContextToken(token)\r\n  }\r\n\r\n  function getTokenFromCookies() {\r\n    const cookies = new Cookies()\r\n    const token = cookies.get('token')\r\n    setContextToken(token)\r\n  }\r\n\r\n  function logout() { \r\n    setContextToken(undefined)\r\n    const cookies = new Cookies()\r\n    cookies.remove('token')\r\n  }\r\n\r\n  function todoDelete(id) {\r\n    let headers = {'Content-Type': 'application/json'}\r\n    headers['Authorization'] = `Token ${contextToken}`\r\n\r\n    axios.delete(`http://127.0.0.1:8000/api/todos/${id}`, {headers})\r\n      .then(result => window.history.go(0)) // это не супер, но пока так. потом переделаю на реактовский вариант\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  function todoCreate(todoInfo) {\r\n    let headers = {'Content-Type': 'application/json'}\r\n    headers['Authorization'] = `Token ${contextToken}`\r\n\r\n    axios.post(`http://127.0.0.1:8000/api/todos/`, todoInfo, {headers})\r\n        .then(result => window.history.go(-1))\r\n        .catch(error => console.log(error))\r\n  }\r\n\r\n  useEffect(() => getTokenFromCookies(), [])\r\n\r\n  return (\r\n    <AuthContext.Provider value = {contextToken}>\r\n      <BrowserRouter>\r\n        <Header authNav={ contextToken ? <button type=\"button\" className=\"btn btn-outline-light\" onClick={() => logout()}>Выйти</button> : \r\n                                        <Link to='/login'><button type=\"button\" className=\"btn btn-outline-light\">Войти</button></Link>}\r\n        />\r\n          <Switch>\r\n            <Route exact path={'/login'}><LoginForm getToken={(username, password) => getToken(username, password)} /></Route>\r\n            <Route exact path={'/users'}><UsersList /></Route>\r\n            <Route exact path={'/projects'}><ProjectsList /></Route>\r\n            <Route exact path={'/todos'}><ToDosList todoDelete={todoDelete} /></Route>\r\n            <Route exact path={'/project/:project_id/todos'}><ToDosList todoDelete={todoDelete} /></Route>\r\n            <Route exact path={'/project/:project_id/todos/create'}><TodoForm todoCreate={todoCreate} /></Route>\r\n            <Redirect from=\"/\" exact to={'/projects'} />\r\n            <Route component={Error404} />\r\n          </Switch>\r\n          <Footer/>\r\n      </BrowserRouter>\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}